{% extends "manager/layout.html" %}
{% block content %}
    <h1>Home</h1>
    <p>{{ data.values|safe }}</p>
    <p>{{ data.labels|safe }}</p>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>

    <canvas id="chart" width="500" height="500"></canvas>
    <script>
      let ctx = document.getElementById("chart").getContext("2d");
        
// let chart = new Chart(ctx, {
//   type: "line",
//   data: {
//      labels: "{{data.labels|safe}}",
//      datasets: [
//         {
//           label: "Gross volume ($)",
//           backgroundColor: "#79AEC8",
//           borderColor: "#417690",
//           data: "{{data.values|safe}}"
//         }
//      ]
//   },
//   options: {
//      title: {
//         text: "Gross Volume in 2020",
//         display: true
//      }
//   }
// });
        var labels = '{{ data.labels|json_script:"labels" }}'
        var data = '{{ data.values|json_script:"values" }}'
        var myChart = new Chart(ctx, {
            // type: 'line',

            type: 'bar',
            
            data: {
                labels: JSON.parse(labels),
                datasets: [{
                    label: 'Expense Data',
                    data: JSON.parse(data),
                    backgroundColor: "#79AEC8",
                    borderColor: "#417690",
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
{% endblock content %}